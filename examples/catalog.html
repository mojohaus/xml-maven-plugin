<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/apt/examples/catalog.apt at 2025-10-19
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>Catalog files – XML Maven Plugin</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-2.1.0.min.js"></script>
    <!-- Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        _paq.push(['disableCookies']);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);

        (function() {
            var u="https://analytics.apache.org/";
            _paq.push(['setTrackerUrl', u+'/matomo.php']);
            _paq.push(['setSiteId', '18']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.async=true; g.src=u+'/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <!-- End Matomo Code -->
    <style>.github-fork-ribbon:before { background-color: gray; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/mojohaus/xml-maven-plugin" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="../../"><img src="../../images/mojo_logo.png" alt="MojoHaus" /></a></h1></div></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href="../../">MojoHaus</a><span class="divider">/</span></li>
      <li><a href=".././">XML Maven Plugin</a><span class="divider">/</span></li>
    <li class="active">Catalog files <a href="https://github.com/mojohaus/xml-maven-plugin/blob/master/src/site/apt/examples/catalog.apt"><img src="../images/accessories-text-editor.png" alt="Edit" /></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2025-10-19</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 1.2.0</li>
        <li class="pull-right"><a href="https://maven.apache.org/">Maven</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="../index.html">Introduction</a></li>
    <li><a href="../plugin-info.html">Goals</a></li>
    <li><a href="../usage.html">Usage</a></li>
    <li><a href="../faq.html">FAQ</a></li>
   <li class="nav-header">Examples</li>
    <li><a href="../examples/validate-well-formedness.html">Checking well formedness</a></li>
    <li><a href="../examples/validate-schema.html">Using an XML schema</a></li>
    <li><a href="../examples/transform-basic.html">XSLT transformation</a></li>
    <li><a href="../examples/transform-change-extension.html">Simple file name mapping</a></li>
    <li><a href="../examples/transform-change-regexp.html">Complex file name mapping</a></li>
    <li><a href="../examples/transform-saxon.html">Using XSLT 2.0</a></li>
    <li><a href="../examples/transform-outputProperties.html">XSLT output properties</a></li>
    <li><a href="../examples/transform-parameters.html">XSLT stylesheet parameters</a></li>
    <li class="active"><a>Catalog files</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="../project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="Catalog_files"></a>
<h1>Catalog files</h1>
<p>It is not unusual that XML parsers or stylesheet processors try to access external resources. For example if you specify an external schema, the XML parser might try to load the external schema in order to validate your XML file:</p>
<pre class="prettyprint"><code>  &lt;xsl:stylesheet version=&quot;2.0&quot;
       xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.w3.org/1999/XSL/Transform http://www.w3.org/2007/schema-for-xslt20.xsd&quot;&gt;
    ...
  &lt;/xsl:stylesheet&gt;</code></pre>
<p>In this example the XML parser would likely attempt to load an XML schema from <code>http://www.w3.org/2007/schema-for-xslt20.xsd</code>.</p>
<p>Another example might be the use of a DTD:</p>
<pre class="prettyprint"><code>  &lt;!DOCTYPE doc PUBLIC &quot;-COUNTER-&quot; &quot;http://www.example.com/sample.dtd&quot;&gt;
  &lt;doc&gt;&lt;header&gt;A sample document.&lt;/header&gt;&lt;/doc&gt;</code></pre>
<p>In this case, the XML parser would likely attempt to connect to <code>http://www.example.com/sample.dtd</code>.</p>
<p>This is all very well, if you are connected to the Internet, with suitably configured proxy servers. But if that is not the case, then you will likely encounter trouble.</p>
<p>The solution is using local copies of these external resources and a catalog file. This is best explained by an example catalog file:</p>
<pre class="prettyprint"><code>  &lt;catalog xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot;&gt;
    &lt;public publicId=&quot;--COUNTER--&quot; uri=&quot;./sample.dtd&quot;/&gt;
    &lt;system systemId=&quot;http://www.w3.org/2007/schema-for-xslt20.xsd&quot; uri=&quot;./schema-for-xslt20.xsd&quot;/&gt;
  &lt;/catalog&gt;</code></pre>
<p>The example shows to things:</p>
<ul>
<li>If the XML parser is searching for a file with a <b>public id</b> of <code>--COUNTER--</code>, then the catalog advises to use the local file <code>./doc-schema.xsd</code> instead.</li>
<li>If the XML parser or stylesheet processor is searching for a file with the <b>system id</b> <code>http://www.w3.org/2007/schema-for-xslt20.xsd</code>, then the catalog requests to use the local file <code>./schema-for-xslt20.xsd</code> instead.
<p>It doesn't matter whether you use the public id or the system id. The important thing to know is what the respective public id and the system id are. In our first example, we had a public id of <code>http://www.w3.org/1999/XSL/Transform</code> (the namespace URI) and a system id of <code>http://www.w3.org/2007/schema-for-xslt20.xsd</code> (the URL from which to actually load the schema). In the second example, the public id was <code>--COUNTER--&gt;&gt; and the system id &lt;&lt;&lt;http://www.example.com/sample.dtd</code>.</p>
<p>In other words, we might as well rewrite our catalog file like this:</p>
<pre class="prettyprint"><code>  &lt;catalog xmlns=&quot;urn:oasis:names:tc:entity:xmlns:xml:catalog&quot;&gt;
    &lt;public publicId=&quot;http://www.w3.org/1999/XSL/Transform&quot; uri=&quot;./schema-for-xslt20.xsd&quot;/&gt;
    &lt;system systemId=&quot;http://www.example.com/sample.dtd&quot; uri=&quot;./sample.dtd&quot;/&gt;
  &lt;/catalog&gt;</code></pre>
<p>We might as well use only public id's or system id's.</p></li></ul></section><section><a id="How_to_use_a_catalog_file"></a>
<h1>How to use a catalog file</h1>
<p>To use a catalog file, you must specify it in your POM.</p>
<pre class="prettyprint"><code>      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;xml-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0&lt;/version&gt;
        &lt;configuration&gt;
          &lt;validationSets&gt;
            &lt;validationSet&gt;
              &lt;dir&gt;src/main/xml&lt;/dir&gt;
              &lt;includes&gt;
                &lt;include&gt;doc1.xml&lt;/include&gt;
              &lt;/includes&gt;
            &lt;/validationSet&gt;
          &lt;/validationSets&gt;
          &lt;catalogs&gt;
            &lt;catalog&gt;src/main/xml/catalog.xml&lt;/catalog&gt;
          &lt;/catalogs&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;</code></pre>
<p>In this example, the catalog file would be stored in <code>src/main/xml/catalog.xml</code>. To use a catalog file for transformation, just use the same <code>catalogs</code> element in your <code>configuration</code> section.</p></section><section><a id="Relative_paths_in_the_catalog_file"></a>
<h1>Relative paths in the catalog file</h1>
<p>An important point to make: How are relative paths in the catalog file interpreted? Suggest that the catalog file is stored in <code>src/main/xml/catalog.xml</code> and the catalog file contains the following entry:</p>
<pre class="prettyprint"><code>    &lt;public publicId=&quot;--COUNTER--&quot; uri=&quot;./sample.dtd&quot;/&gt;</code></pre>
<p>The answer is that the URI is interpreted relative to the catalog files. In other words, the <code>sample.dtd</code> is stored in <code>src/main/xml/sample.dtd</code> and not in <code>$<a id="basedir">basedir</a>/sample.dtd</code>.</p></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2006–2025
<a href="https://www.mojohaus.org">MojoHaus</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>